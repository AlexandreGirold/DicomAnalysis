<!DOCTYPE html>
<html>
<head>
    <title>Test Save Endpoint Routing</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .test { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .success { background: #d4edda; }
        .error { background: #f8d7da; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h1>Test Save Endpoint Routing</h1>
    <p>Click buttons to test endpoint detection for each test type:</p>
    
    <div id="results"></div>
    
    <script>
        // Copy the TEST_SAVE_ENDPOINTS mapping
        const TEST_SAVE_ENDPOINTS = {
            'mvic': '/mvic-test-sessions',
            'mvic_fente_v2': '/mvic-fente-v2-sessions',
            'mlc_leaf_jaw': '/mlc-leaf-jaw-sessions',
            'niveau_helium': '/niveau-helium-sessions',
            'piqt': '/piqt-sessions',
            'safety_systems': '/safety-systems-sessions',
            'position_table_v2': '/position-table-sessions',
            'alignement_laser': '/alignement-laser-sessions',
            'quasar': '/quasar-sessions',
            'indice_quality': '/indice-quality-sessions'
        };
        
        function testEndpoint(testId) {
            const endpoint = TEST_SAVE_ENDPOINTS[testId];
            const div = document.createElement('div');
            div.className = 'test ' + (endpoint ? 'success' : 'error');
            div.innerHTML = `
                <strong>${testId}</strong><br>
                Endpoint: ${endpoint || '❌ NOT FOUND'}<br>
                ${endpoint ? '✅ Mapping exists' : '❌ Missing mapping'}
            `;
            document.getElementById('results').appendChild(div);
        }
        
        // Test all IDs
        const allTestIds = [
            'mvic', 'mvic_fente_v2', 'mlc_leaf_jaw',
            'niveau_helium', 'piqt', 'safety_systems',
            'position_table_v2', 'alignement_laser', 'quasar', 'indice_quality'
        ];
        
        allTestIds.forEach(testEndpoint);
    </script>
</body>
</html>
